[gd_scene load_steps=107 format=4 uid="uid://cjc7ccvfnip1g"]

[ext_resource type="Script" path="res://scenes/main/main.gd" id="1_jtu5u"]
[ext_resource type="Texture2D" uid="uid://c3ubhp7usn2oc" path="res://assets/sprites/background/background_tile.png" id="2_57wjm"]
[ext_resource type="TileSet" uid="uid://dg0b4bpfyappr" path="res://assets/tilesets/background_tiles.tres" id="2_roaqh"]
[ext_resource type="Script" path="res://scripts/components/camera/camera_drag.gd" id="2_tjfnl"]
[ext_resource type="Script" path="res://scripts/play_area.gd" id="3_ax4fa"]
[ext_resource type="Script" path="res://scripts/track_card_grid.gd" id="3_ew15e"]
[ext_resource type="Script" path="res://scripts/components/tile_highlighter.gd" id="5_fb313"]
[ext_resource type="Script" path="res://scripts/components/track_card_mover.gd" id="6_0x7j2"]
[ext_resource type="PackedScene" uid="uid://bau0byp2es6fk" path="res://scenes/track_cards/start_finish_card.tscn" id="11_xgl4w"]
[ext_resource type="Script" path="res://scripts/components/circuit_manager.gd" id="12_25i6v"]
[ext_resource type="Script" path="res://scripts/ui/setup_ui/circuit_completion_label.gd" id="12_iiquq"]
[ext_resource type="Script" path="res://scripts/components/game_state_machine/game_state_machine.gd" id="12_k7eph"]
[ext_resource type="Script" path="res://scripts/components/game_state_machine/game_states/game_setup_state.gd" id="13_8wt13"]
[ext_resource type="Script" path="res://scripts/components/game_state_machine/game_states/game_start_state.gd" id="13_hlcgw"]
[ext_resource type="Script" path="res://scripts/components/track_card_spawner.gd" id="14_s77h4"]
[ext_resource type="Script" path="res://scripts/components/game_state_machine/game_states/game_race_state.gd" id="15_dn82q"]
[ext_resource type="Script" path="res://scripts/ui/setup_ui/setup_ui.gd" id="15_r6i58"]
[ext_resource type="Script" path="res://scripts/components/race_manager.gd" id="16_2u0pc"]
[ext_resource type="Script" path="res://scripts/ui/setup_ui/start_race_button.gd" id="16_i23ju"]
[ext_resource type="Script" path="res://scripts/components/game_state_machine/game_states/game_results_state.gd" id="16_jtsqa"]
[ext_resource type="Script" path="res://scenes/racers/racer_paths.gd" id="17_os5gd"]
[ext_resource type="Script" path="res://scenes/circuit_mover/circuit_mover.gd" id="19_0a4w3"]
[ext_resource type="PackedScene" uid="uid://04j83wifmqkh" path="res://scenes/player/player.tscn" id="19_8oqdl"]
[ext_resource type="Resource" uid="uid://dpj2xbbdkj4gx" path="res://data/CPUs/cpu_02.tres" id="19_250oh"]
[ext_resource type="PackedScene" uid="uid://be47c88ges0wb" path="res://scenes/racers/cpu_racer.tscn" id="19_bch8b"]
[ext_resource type="Resource" uid="uid://bndqxt0sbkhv1" path="res://data/CPUs/cpu_03.tres" id="20_6sr5t"]
[ext_resource type="Resource" uid="uid://cm51thkxufyhj" path="res://data/CPUs/cpu_04.tres" id="21_rubu2"]
[ext_resource type="Resource" uid="uid://cgycm1mwhbcxd" path="res://data/CPUs/cpu_05.tres" id="22_2steo"]
[ext_resource type="Script" path="res://scripts/components/points_calculator.gd" id="26_tmw2s"]
[ext_resource type="PackedScene" uid="uid://bbd8rlqckvo1u" path="res://scenes/ui/shop_track_card_btn.tscn" id="27_5bc8a"]
[ext_resource type="Script" path="res://scripts/ui/start_ui/start_ui.gd" id="27_xdqku"]
[ext_resource type="Resource" uid="uid://b44jgapopo1mv" path="res://data/track_cards/straight_long_01.tres" id="28_0g71v"]
[ext_resource type="Texture2D" uid="uid://ccur0biq86gy6" path="res://assets/sprites/ui/setup/inventory_track_card_buttons_disabled.png" id="28_2fnhu"]
[ext_resource type="FontFile" uid="uid://du3w8uvtiy6ex" path="res://assets/fonts/Stifly.ttf" id="28_h6juv"]
[ext_resource type="Texture2D" uid="uid://ehh8dwpvv2jj" path="res://assets/sprites/ui/setup/inventory_track_card_buttons.png" id="28_j1ivp"]
[ext_resource type="Script" path="res://scripts/ui/race_ui/race_ui.gd" id="28_wgn8a"]
[ext_resource type="Resource" uid="uid://nkx03tnwarhs" path="res://data/track_cards/straight_short_01.tres" id="29_0lok0"]
[ext_resource type="LabelSettings" uid="uid://c2g7yxbddwmsb" path="res://assets/themes/label_settings/title.tres" id="29_dh7ml"]
[ext_resource type="Theme" uid="uid://br11v8qh14ro6" path="res://assets/themes/button_themes/menu_button.tres" id="30_prroa"]
[ext_resource type="Script" path="res://scripts/ui/results_ui/results_ui.gd" id="30_sdypd"]
[ext_resource type="Script" path="res://scripts/ui/results_ui/position.gd" id="31_pgcmh"]
[ext_resource type="Resource" uid="uid://bvkqr6ki1bc8p" path="res://data/track_cards/c_corner_01.tres" id="32_7ij3m"]
[ext_resource type="Theme" uid="uid://kgr0yu8ynkok" path="res://assets/themes/shop/shop_panel.tres" id="33_h856h"]
[ext_resource type="Resource" uid="uid://bvbu0lefe8emx" path="res://data/track_cards/j_corner_short_01.tres" id="33_qq1of"]
[ext_resource type="Resource" uid="uid://dreawm5knayh8" path="res://data/track_cards/j_corner_long_01.tres" id="34_g2sw6"]
[ext_resource type="FontFile" uid="uid://jwpuyq4edb1r" path="res://assets/fonts/Giphurs-ExtraBold.ttf" id="34_u22i0"]
[ext_resource type="Theme" uid="uid://8putwb2rolgq" path="res://assets/themes/label_settings/shop_title.tres" id="34_ymap1"]
[ext_resource type="Resource" uid="uid://b06qp3okq8bxk" path="res://data/track_cards/l_corner_short_01.tres" id="35_gyckh"]
[ext_resource type="Resource" uid="uid://01rgt6dtaxbw" path="res://data/track_cards/l_corner_long_01.tres" id="36_yj4f8"]
[ext_resource type="Resource" uid="uid://c1yq4jeh2k4b5" path="res://data/track_cards/s_corner_01.tres" id="37_o327j"]
[ext_resource type="Resource" uid="uid://cy6xfsoiujief" path="res://data/track_cards/z_corner_01.tres" id="38_tgdo7"]
[ext_resource type="Script" path="res://scripts/ui/setup_ui/car_upgrade_button.gd" id="39_pkxc2"]
[ext_resource type="Theme" uid="uid://ggr8gkofyaaf" path="res://assets/themes/button_themes/shop_button.tres" id="46_13pq4"]
[ext_resource type="Theme" uid="uid://bvqklgvegqfa5" path="res://assets/themes/leaderboard/leaderboard_row.tres" id="49_c46o0"]
[ext_resource type="Theme" uid="uid://h56iaqwvcibo" path="res://assets/themes/label_settings/leaderboard_label.tres" id="51_0fr01"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_roq4t"]
texture = ExtResource("2_57wjm")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0

[sub_resource type="TileSet" id="TileSet_qaaug"]
tile_size = Vector2i(64, 64)
sources/0 = SubResource("TileSetAtlasSource_roq4t")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ybjkt"]
size = Vector2(4, 10)

[sub_resource type="CircleShape2D" id="CircleShape2D_08m1d"]
resource_local_to_scene = true
radius = 6.0

[sub_resource type="Curve2D" id="Curve2D_1blyj"]

[sub_resource type="GDScript" id="GDScript_inwqj"]
script/source = "extends Path2D

signal track_card_ended

@onready var path_follow_2d: PathFollow2D = $PathFollow2D
@export var acceleration := 0.02
@export var deceleration := 0.02

var current_track_card
var current_lap := 1

var enabled = false
var speed = 0
var top_speed = 0.14
var can_accelerate = true

var race_ended = false


func _process(_delta: float) -> void:
	if !enabled:
		return

	if (speed + acceleration <= top_speed and can_accelerate) and !race_ended:
		accelerate()

	path_follow_2d.progress += speed

	if path_follow_2d.progress_ratio == 1:
		track_card_ended.emit()

	if current_track_card.speed_threshold == 0:
		return

	if current_track_card.first_link == current_track_card.circuit_link_1:
		if (path_follow_2d.progress_ratio > current_track_card.speed_min_limit_1 and path_follow_2d.progress_ratio < current_track_card.speed_max_limit_1) or (path_follow_2d.progress_ratio > current_track_card.speed_min_limit_2 and path_follow_2d.progress_ratio < current_track_card.speed_max_limit_2):
			if speed >= current_track_card.speed_threshold:
				spin_out()
	else:
		if (path_follow_2d.progress_ratio < 1 - current_track_card.speed_min_limit_1 and path_follow_2d.progress_ratio > 1 - current_track_card.speed_max_limit_1) or (path_follow_2d.progress_ratio < 1 - current_track_card.speed_min_limit_2 and path_follow_2d.progress_ratio > 1 - current_track_card.speed_max_limit_2):
			if speed >= current_track_card.speed_threshold:
				spin_out()


func accelerate() -> void:
	speed += acceleration + speed_noise()
	speed = clampf(speed, 0, top_speed)
	can_accelerate = false
	$AccelerationTimer.start()


func decelerate(value) -> void:
	speed -= value
	speed = clampf(speed, 0, top_speed)


func decelerate_continously() -> void:
	can_accelerate = false
	if speed == 0:
		can_accelerate = true
		return

	decelerate(0.02)
	$DecelerationTimer.start()


func _on_acceleration_timer_timeout() -> void:
	can_accelerate = true


func _on_deceleration_timer_timeout() -> void:
	decelerate_continously()


func speed_noise() -> float:
	var min_noise = 0 - acceleration
	return randf_range(min_noise, acceleration)


func finish_race() -> void:
	decelerate_continously()
	race_ended = true


func spin_out() -> void:
	decelerate_continously()
	var tween = get_tree().create_tween()
	tween.tween_property(path_follow_2d.get_child(0).sprite_2d, \"rotation\", deg_to_rad(360), 1)
	path_follow_2d.get_child(0).sprite_2d.rotation = 0


func improve_random_stat() -> void:
	var random_int = randi_range(0, 2)
	if random_int == 0:
		top_speed += 0.02
	if random_int == 1:
		acceleration += 0.005
	if random_int == 2:
		deceleration += 0.01
"

[sub_resource type="Curve2D" id="Curve2D_nadqk"]

[sub_resource type="GDScript" id="GDScript_1xpv2"]
script/source = "extends Path2D

signal track_card_ended

@onready var path_follow_2d: PathFollow2D = $PathFollow2D
@export var acceleration := 0.02
@export var deceleration := 0.02

var current_track_card
var current_lap := 1

var enabled = false
var speed = 0
var top_speed = 0.14
var can_accelerate = true

var race_ended = false


func _process(_delta: float) -> void:
	if !enabled:
		return

	if (speed + acceleration <= top_speed and can_accelerate) and !race_ended:
		accelerate()

	path_follow_2d.progress += speed

	if path_follow_2d.progress_ratio == 1:
		track_card_ended.emit()

	if current_track_card.speed_threshold == 0:
		return

	if current_track_card.first_link == current_track_card.circuit_link_1:
		if (path_follow_2d.progress_ratio > current_track_card.speed_min_limit_1 and path_follow_2d.progress_ratio < current_track_card.speed_max_limit_1) or (path_follow_2d.progress_ratio > current_track_card.speed_min_limit_2 and path_follow_2d.progress_ratio < current_track_card.speed_max_limit_2):
			if speed >= current_track_card.speed_threshold:
				spin_out()
	else:
		if (path_follow_2d.progress_ratio < 1 - current_track_card.speed_min_limit_1 and path_follow_2d.progress_ratio > 1 - current_track_card.speed_max_limit_1) or (path_follow_2d.progress_ratio < 1 - current_track_card.speed_min_limit_2 and path_follow_2d.progress_ratio > 1 - current_track_card.speed_max_limit_2):
			if speed >= current_track_card.speed_threshold:
				spin_out()


func accelerate() -> void:
	speed += acceleration + speed_noise()
	speed = clampf(speed, 0, top_speed)
	can_accelerate = false
	$AccelerationTimer.start()


func decelerate(value) -> void:
	speed -= value
	speed = clampf(speed, 0, top_speed)


func decelerate_continously() -> void:
	can_accelerate = false
	if speed == 0:
		can_accelerate = true
		return

	decelerate(0.02)
	$DecelerationTimer.start()


func _on_acceleration_timer_timeout() -> void:
	can_accelerate = true


func _on_deceleration_timer_timeout() -> void:
	decelerate_continously()


func speed_noise() -> float:
	var min_noise = 0 - acceleration
	return randf_range(min_noise, acceleration)


func finish_race() -> void:
	decelerate_continously()
	race_ended = true


func spin_out() -> void:
	decelerate_continously()
	var tween = get_tree().create_tween()
	tween.tween_property(path_follow_2d.get_child(0).sprite_2d, \"rotation\", deg_to_rad(360), 1)
	path_follow_2d.get_child(0).sprite_2d.rotation = 0


func improve_random_stat() -> void:
	var random_int = randi_range(0, 2)
	if random_int == 0:
		top_speed += 0.02
	if random_int == 1:
		acceleration += 0.005
	if random_int == 2:
		deceleration += 0.01
"

[sub_resource type="Curve2D" id="Curve2D_syl6s"]

[sub_resource type="GDScript" id="GDScript_4y8bt"]
script/source = "extends Path2D

signal track_card_ended

@onready var path_follow_2d: PathFollow2D = $PathFollow2D
@export var acceleration := 0.02
@export var deceleration := 0.02

var current_track_card
var current_lap := 1

var enabled = false
var speed = 0
var top_speed = 0.14
var can_accelerate = true

var race_ended = false


func _process(_delta: float) -> void:
	if !enabled:
		return

	if (speed + acceleration <= top_speed and can_accelerate) and !race_ended:
		accelerate()

	path_follow_2d.progress += speed

	if path_follow_2d.progress_ratio == 1:
		track_card_ended.emit()

	if current_track_card.speed_threshold == 0:
		return

	if current_track_card.first_link == current_track_card.circuit_link_1:
		if (path_follow_2d.progress_ratio > current_track_card.speed_min_limit_1 and path_follow_2d.progress_ratio < current_track_card.speed_max_limit_1) or (path_follow_2d.progress_ratio > current_track_card.speed_min_limit_2 and path_follow_2d.progress_ratio < current_track_card.speed_max_limit_2):
			if speed >= current_track_card.speed_threshold:
				spin_out()
	else:
		if (path_follow_2d.progress_ratio < 1 - current_track_card.speed_min_limit_1 and path_follow_2d.progress_ratio > 1 - current_track_card.speed_max_limit_1) or (path_follow_2d.progress_ratio < 1 - current_track_card.speed_min_limit_2 and path_follow_2d.progress_ratio > 1 - current_track_card.speed_max_limit_2):
			if speed >= current_track_card.speed_threshold:
				spin_out()


func accelerate() -> void:
	speed += acceleration + speed_noise()
	speed = clampf(speed, 0, top_speed)
	can_accelerate = false
	$AccelerationTimer.start()


func decelerate(value) -> void:
	speed -= value
	speed = clampf(speed, 0, top_speed)


func decelerate_continously() -> void:
	can_accelerate = false
	if speed == 0:
		can_accelerate = true
		return

	decelerate(0.02)
	$DecelerationTimer.start()


func _on_acceleration_timer_timeout() -> void:
	can_accelerate = true


func _on_deceleration_timer_timeout() -> void:
	decelerate_continously()


func speed_noise() -> float:
	var min_noise = 0 - acceleration
	return randf_range(min_noise, acceleration)


func finish_race() -> void:
	decelerate_continously()
	race_ended = true


func spin_out() -> void:
	decelerate_continously()
	var tween = get_tree().create_tween()
	tween.tween_property(path_follow_2d.get_child(0).sprite_2d, \"rotation\", deg_to_rad(360), 1)
	path_follow_2d.get_child(0).sprite_2d.rotation = 0


func improve_random_stat() -> void:
	var random_int = randi_range(0, 2)
	if random_int == 0:
		top_speed += 0.02
	if random_int == 1:
		acceleration += 0.005
	if random_int == 2:
		deceleration += 0.01
"

[sub_resource type="Curve2D" id="Curve2D_wpn4w"]

[sub_resource type="GDScript" id="GDScript_ug6ft"]
script/source = "extends Path2D

signal track_card_ended

@onready var path_follow_2d: PathFollow2D = $PathFollow2D
@export var acceleration := 0.02
@export var deceleration := 0.02

var current_track_card
var current_lap := 1

var enabled = false
var speed = 0
var top_speed = 0.14
var can_accelerate = true

var race_ended = false


func _process(_delta: float) -> void:
	if !enabled:
		return

	if (speed + acceleration <= top_speed and can_accelerate) and !race_ended:
		accelerate()

	path_follow_2d.progress += speed

	if path_follow_2d.progress_ratio == 1:
		track_card_ended.emit()

	if current_track_card.speed_threshold == 0:
		return

	if current_track_card.first_link == current_track_card.circuit_link_1:
		if (path_follow_2d.progress_ratio > current_track_card.speed_min_limit_1 and path_follow_2d.progress_ratio < current_track_card.speed_max_limit_1) or (path_follow_2d.progress_ratio > current_track_card.speed_min_limit_2 and path_follow_2d.progress_ratio < current_track_card.speed_max_limit_2):
			if speed >= current_track_card.speed_threshold:
				spin_out()
	else:
		if (path_follow_2d.progress_ratio < 1 - current_track_card.speed_min_limit_1 and path_follow_2d.progress_ratio > 1 - current_track_card.speed_max_limit_1) or (path_follow_2d.progress_ratio < 1 - current_track_card.speed_min_limit_2 and path_follow_2d.progress_ratio > 1 - current_track_card.speed_max_limit_2):
			if speed >= current_track_card.speed_threshold:
				spin_out()


func accelerate() -> void:
	speed += acceleration + speed_noise()
	speed = clampf(speed, 0, top_speed)
	can_accelerate = false
	$AccelerationTimer.start()


func decelerate(value) -> void:
	speed -= value
	speed = clampf(speed, 0, top_speed)


func decelerate_continously() -> void:
	can_accelerate = false
	if speed == 0:
		can_accelerate = true
		return

	decelerate(0.02)
	$DecelerationTimer.start()


func _on_acceleration_timer_timeout() -> void:
	can_accelerate = true


func _on_deceleration_timer_timeout() -> void:
	decelerate_continously()


func speed_noise() -> float:
	var min_noise = 0 - acceleration
	return randf_range(min_noise, acceleration)


func finish_race() -> void:
	decelerate_continously()
	race_ended = true


func spin_out() -> void:
	decelerate_continously()
	var tween = get_tree().create_tween()
	tween.tween_property(path_follow_2d.get_child(0).sprite_2d, \"rotation\", deg_to_rad(360), 1)
	path_follow_2d.get_child(0).sprite_2d.rotation = 0


func improve_random_stat() -> void:
	var random_int = randi_range(0, 2)
	if random_int == 0:
		top_speed += 0.02
	if random_int == 1:
		acceleration += 0.005
	if random_int == 2:
		deceleration += 0.01
"

[sub_resource type="Curve2D" id="Curve2D_4hhel"]
bake_interval = 4.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_eno2j"]
bg_color = Color(1, 1, 1, 1)

[sub_resource type="LabelSettings" id="LabelSettings_6oc6j"]
font = ExtResource("28_h6juv")
font_size = 216
font_color = Color(0.270588, 0.611765, 1, 1)
shadow_color = Color(1, 0.578273, 0.35551, 1)
shadow_offset = Vector2(8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_bdk1f"]
atlas = ExtResource("28_j1ivp")
region = Rect2(41.5829, 72.2375, 21.9805, 57.0188)

[sub_resource type="AtlasTexture" id="AtlasTexture_5i5j4"]
atlas = ExtResource("28_j1ivp")
region = Rect2(97.1943, 64.2207, 32.4267, 63.9829)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_8oy02"]

[sub_resource type="Theme" id="Theme_qupja"]
Label/colors/font_color = Color(0, 0, 0, 1)
Label/colors/font_outline_color = Color(1, 0.576471, 0.356863, 1)
Label/colors/font_shadow_color = Color(0, 0, 0, 0)
Label/constants/line_spacing = 3
Label/constants/outline_size = 10
Label/constants/shadow_offset_x = 1
Label/constants/shadow_offset_y = 1
Label/constants/shadow_outline_size = 1
Label/font_sizes/font_size = 32
Label/fonts/font = ExtResource("34_u22i0")
Label/styles/normal = SubResource("StyleBoxEmpty_8oy02")

[sub_resource type="AtlasTexture" id="AtlasTexture_dopny"]
resource_local_to_scene = true
atlas = ExtResource("28_j1ivp")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bbk08"]
resource_local_to_scene = true
atlas = ExtResource("28_2fnhu")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ow8jv"]
resource_local_to_scene = true
atlas = ExtResource("28_j1ivp")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_s1hib"]
resource_local_to_scene = true
atlas = ExtResource("28_2fnhu")
region = Rect2(32, 64, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ahh17"]
resource_local_to_scene = true
atlas = ExtResource("28_j1ivp")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_05ivi"]
resource_local_to_scene = true
atlas = ExtResource("28_2fnhu")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_lyvtm"]
resource_local_to_scene = true
atlas = ExtResource("28_j1ivp")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ua6d"]
resource_local_to_scene = true
atlas = ExtResource("28_2fnhu")
region = Rect2(32, 64, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5dgsx"]
resource_local_to_scene = true
atlas = ExtResource("28_j1ivp")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_f4fi2"]
resource_local_to_scene = true
atlas = ExtResource("28_2fnhu")
region = Rect2(32, 64, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_eqyik"]
resource_local_to_scene = true
atlas = ExtResource("28_j1ivp")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_nvqa4"]
resource_local_to_scene = true
atlas = ExtResource("28_2fnhu")
region = Rect2(32, 64, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rirm7"]
resource_local_to_scene = true
atlas = ExtResource("28_j1ivp")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_s166f"]
resource_local_to_scene = true
atlas = ExtResource("28_2fnhu")
region = Rect2(32, 64, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5yacb"]
resource_local_to_scene = true
atlas = ExtResource("28_j1ivp")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6u14h"]
resource_local_to_scene = true
atlas = ExtResource("28_2fnhu")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7qmhp"]
resource_local_to_scene = true
atlas = ExtResource("28_j1ivp")
region = Rect2(0, 0, 32, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_2prod"]
resource_local_to_scene = true
atlas = ExtResource("28_2fnhu")
region = Rect2(32, 64, 32, 64)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_y3wb1"]
content_margin_left = 0.0
content_margin_top = 0.0
content_margin_right = 0.0
content_margin_bottom = 0.0
bg_color = Color(1, 1, 1, 0.560784)
corner_radius_top_right = 8
corner_detail = 5

[sub_resource type="Theme" id="Theme_ryj6o"]
Panel/styles/panel = SubResource("StyleBoxFlat_y3wb1")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_nhf0t"]
bg_color = Color(1, 1, 1, 0.560784)
corner_radius_top_left = 8

[sub_resource type="LabelSettings" id="LabelSettings_2psnu"]
line_spacing = -8.0
font_size = 20
font_color = Color(0.909804, 0.262745, 0.247059, 1)

[sub_resource type="Theme" id="Theme_aw2ls"]
Label/colors/font_color = Color(0, 0, 0, 1)
Label/colors/font_outline_color = Color(1, 1, 1, 1)
Label/colors/font_shadow_color = Color(0, 0, 0, 0)
Label/constants/line_spacing = 3
Label/constants/outline_size = 56
Label/constants/shadow_offset_x = 1
Label/constants/shadow_offset_y = 1
Label/constants/shadow_outline_size = 1
Label/font_sizes/font_size = 180
Label/fonts/font = ExtResource("34_u22i0")
Label/styles/normal = SubResource("StyleBoxEmpty_8oy02")

[sub_resource type="Theme" id="Theme_b6qeb"]
Panel/styles/panel = SubResource("StyleBoxFlat_y3wb1")

[sub_resource type="LabelSettings" id="LabelSettings_ln77r"]
font_size = 32
font_color = Color(0.270588, 0.611765, 1, 1)

[sub_resource type="LabelSettings" id="LabelSettings_ijasw"]
font_size = 32
font_color = Color(1, 0.576471, 0.356863, 1)

[sub_resource type="LabelSettings" id="LabelSettings_jbm2g"]
font_size = 20
font_color = Color(0.270588, 0.611765, 1, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_01ewj"]
content_margin_left = 2.0
content_margin_top = 2.0
content_margin_right = 2.0
content_margin_bottom = 2.0
bg_color = Color(1, 1, 1, 1)
corner_radius_top_right = 8
corner_radius_bottom_left = 8
corner_detail = 6

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_c04ee"]
content_margin_left = 2.0
content_margin_top = 2.0
content_margin_right = 2.0
content_margin_bottom = 2.0
bg_color = Color(0.270588, 0.611765, 1, 1)
corner_radius_top_left = 6
corner_radius_top_right = 6
corner_radius_bottom_right = 6
corner_radius_bottom_left = 6
corner_detail = 6

[sub_resource type="Theme" id="Theme_6kbys"]
ProgressBar/colors/font_color = Color(0.95, 0.95, 0.95, 1)
ProgressBar/colors/font_outline_color = Color(0, 0, 0, 1)
ProgressBar/constants/outline_size = 0
ProgressBar/font_sizes/font_size = 16
ProgressBar/fonts/font = ExtResource("34_u22i0")
ProgressBar/styles/background = SubResource("StyleBoxFlat_01ewj")
ProgressBar/styles/fill = SubResource("StyleBoxFlat_c04ee")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_xcgyj"]
bg_color = Color(1, 1, 1, 0.533333)

[sub_resource type="Theme" id="Theme_oebeb"]
Panel/styles/panel = SubResource("StyleBoxFlat_xcgyj")

[node name="Main" type="Node2D"]
script = ExtResource("1_jtu5u")

[node name="Visuals" type="Node2D" parent="."]

[node name="BackgroundGrid" type="TileMapLayer" parent="Visuals"]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAkAAAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAAAAAABAAUAAAAAAAAAAAABAAYAAAAAAAAAAAABAAcAAAAAAAAAAAABAAgAAAAAAAAAAAABAAkAAAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAACAAUAAAAAAAAAAAACAAYAAAAAAAAAAAACAAcAAAAAAAAAAAACAAgAAAAAAAAAAAACAAkAAAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAADAAcAAAAAAAAAAAADAAgAAAAAAAAAAAADAAkAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAAAAAAEAAYAAAAAAAAAAAAEAAcAAAAAAAAAAAAEAAgAAAAAAAAAAAAEAAkAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAUAAAAAAAAAAAAFAAYAAAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAUAAAAAAAAAAAAGAAYAAAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAHAAUAAAAAAAAAAAAHAAYAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAUAAAAAAAAAAAAIAAYAAAAAAAAAAAAJAAAAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAQAAAAAAAAAAAAJAAUAAAAAAAAAAAAJAAYAAAAAAAAAAAAFAAcAAAAAAAAAAAAFAAgAAAAAAAAAAAAFAAkAAAAAAAAAAAAGAAcAAAAAAAAAAAAGAAgAAAAAAAAAAAAGAAkAAAAAAAAAAAAHAAcAAAAAAAAAAAAHAAgAAAAAAAAAAAAHAAkAAAAAAAAAAAAIAAcAAAAAAAAAAAAIAAgAAAAAAAAAAAAIAAkAAAAAAAAAAAAJAAcAAAAAAAAAAAAJAAgAAAAAAAAAAAAJAAkAAAAAAAAAAAA=")
tile_set = ExtResource("2_roaqh")
metadata/_edit_lock_ = true

[node name="PlayArea" type="TileMapLayer" parent="." node_paths=PackedStringArray("play_area_track_card_grid", "tile_highlighter")]
tile_set = SubResource("TileSet_qaaug")
script = ExtResource("3_ax4fa")
play_area_track_card_grid = NodePath("PlayAreaTrackCardGrid")
tile_highlighter = NodePath("TileHighlighter")
metadata/_edit_lock_ = true

[node name="PlayAreaTrackCardGrid" type="Node2D" parent="PlayArea"]
script = ExtResource("3_ew15e")
size = Vector2i(10, 10)

[node name="Highlight" type="TileMapLayer" parent="PlayArea"]
tile_set = ExtResource("2_roaqh")

[node name="TileHighlighter" type="Node" parent="PlayArea" node_paths=PackedStringArray("play_area", "highlight_layer")]
script = ExtResource("5_fb313")
play_area = NodePath("..")
highlight_layer = NodePath("../Highlight")
tile = Vector2i(1, 0)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(320, 320)
zoom = Vector2(2, 2)

[node name="CameraDrag" type="Node2D" parent="Camera2D" node_paths=PackedStringArray("camera")]
script = ExtResource("2_tjfnl")
camera = NodePath("..")
camera_left_limit = 280
camera_right_limit = 360
camera_top_limit = 140
camera_bottom_limit = 500

[node name="Components" type="Node" parent="."]

[node name="TrackCardMover" type="Node" parent="Components" node_paths=PackedStringArray("play_areas")]
script = ExtResource("6_0x7j2")
play_areas = [NodePath("../../PlayArea")]
start_finish_tiles = Array[Vector2i]([Vector2i(4, 4), Vector2i(5, 4), Vector2i(4, 5), Vector2i(5, 5)])

[node name="CircuitManager" type="Node" parent="Components" node_paths=PackedStringArray("track_card_mover")]
script = ExtResource("12_25i6v")
track_card_mover = NodePath("../TrackCardMover")

[node name="StartFinishCard" parent="Components/CircuitManager" instance=ExtResource("11_xgl4w")]
position = Vector2(320, 320)

[node name="TrackCardSpawner" type="Node" parent="Components" node_paths=PackedStringArray("play_area")]
unique_name_in_owner = true
script = ExtResource("14_s77h4")
play_area = NodePath("../../PlayArea")

[node name="GameStateMachine" type="Node" parent="Components" node_paths=PackedStringArray("initial_state")]
script = ExtResource("12_k7eph")
initial_state = NodePath("GameStartState")

[node name="GameStartState" type="Node" parent="Components/GameStateMachine"]
script = ExtResource("13_hlcgw")

[node name="GameSetupState" type="Node" parent="Components/GameStateMachine"]
script = ExtResource("13_8wt13")
state = 1

[node name="GameRaceState" type="Node" parent="Components/GameStateMachine"]
script = ExtResource("15_dn82q")
state = 2

[node name="GameResultsState" type="Node" parent="Components/GameStateMachine"]
script = ExtResource("16_jtsqa")
state = 3

[node name="RaceManager" type="Node" parent="Components"]
script = ExtResource("16_2u0pc")

[node name="Area2D" type="Area2D" parent="Components/RaceManager"]
position = Vector2(301, 352)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Components/RaceManager/Area2D"]
shape = SubResource("RectangleShape2D_ybjkt")

[node name="RacerPaths" type="Node2D" parent="Components/RaceManager"]
visible = false
script = ExtResource("17_os5gd")

[node name="CPURacerPath" parent="Components/RaceManager/RacerPaths" instance=ExtResource("19_bch8b")]

[node name="CollisionShape2D" parent="Components/RaceManager/RacerPaths/CPURacerPath/PathFollow2D/CharacterBody2D" index="1"]
shape = SubResource("CircleShape2D_08m1d")

[node name="DecelerationTimer" parent="Components/RaceManager/RacerPaths/CPURacerPath" index="2"]
wait_time = 0.3

[node name="CPURacerPath2" parent="Components/RaceManager/RacerPaths" instance=ExtResource("19_bch8b")]
curve = SubResource("Curve2D_1blyj")
script = SubResource("GDScript_inwqj")

[node name="CharacterBody2D" parent="Components/RaceManager/RacerPaths/CPURacerPath2/PathFollow2D" index="0"]
stats = ExtResource("19_250oh")

[node name="CollisionShape2D" parent="Components/RaceManager/RacerPaths/CPURacerPath2/PathFollow2D/CharacterBody2D" index="1"]
shape = SubResource("CircleShape2D_08m1d")

[node name="DecelerationTimer" parent="Components/RaceManager/RacerPaths/CPURacerPath2" index="2"]
wait_time = 0.3

[node name="CPURacerPath3" parent="Components/RaceManager/RacerPaths" instance=ExtResource("19_bch8b")]
curve = SubResource("Curve2D_nadqk")
script = SubResource("GDScript_1xpv2")

[node name="CharacterBody2D" parent="Components/RaceManager/RacerPaths/CPURacerPath3/PathFollow2D" index="0"]
stats = ExtResource("20_6sr5t")

[node name="CollisionShape2D" parent="Components/RaceManager/RacerPaths/CPURacerPath3/PathFollow2D/CharacterBody2D" index="1"]
shape = SubResource("CircleShape2D_08m1d")

[node name="DecelerationTimer" parent="Components/RaceManager/RacerPaths/CPURacerPath3" index="2"]
wait_time = 0.3

[node name="CPURacerPath4" parent="Components/RaceManager/RacerPaths" instance=ExtResource("19_bch8b")]
curve = SubResource("Curve2D_syl6s")
script = SubResource("GDScript_4y8bt")

[node name="CharacterBody2D" parent="Components/RaceManager/RacerPaths/CPURacerPath4/PathFollow2D" index="0"]
stats = ExtResource("21_rubu2")

[node name="CollisionShape2D" parent="Components/RaceManager/RacerPaths/CPURacerPath4/PathFollow2D/CharacterBody2D" index="1"]
shape = SubResource("CircleShape2D_08m1d")

[node name="DecelerationTimer" parent="Components/RaceManager/RacerPaths/CPURacerPath4" index="2"]
wait_time = 0.3

[node name="CPURacerPath5" parent="Components/RaceManager/RacerPaths" instance=ExtResource("19_bch8b")]
curve = SubResource("Curve2D_wpn4w")
script = SubResource("GDScript_ug6ft")

[node name="CharacterBody2D" parent="Components/RaceManager/RacerPaths/CPURacerPath5/PathFollow2D" index="0"]
stats = ExtResource("22_2steo")

[node name="CollisionShape2D" parent="Components/RaceManager/RacerPaths/CPURacerPath5/PathFollow2D/CharacterBody2D" index="1"]
shape = SubResource("CircleShape2D_08m1d")

[node name="DecelerationTimer" parent="Components/RaceManager/RacerPaths/CPURacerPath5" index="2"]
wait_time = 0.3

[node name="PlayerPath" type="Path2D" parent="Components/RaceManager/RacerPaths" node_paths=PackedStringArray("race_manager")]
curve = SubResource("Curve2D_4hhel")
script = ExtResource("19_0a4w3")
race_manager = NodePath("../..")

[node name="PathFollow2D" type="PathFollow2D" parent="Components/RaceManager/RacerPaths/PlayerPath"]
loop = false

[node name="Player" parent="Components/RaceManager/RacerPaths/PlayerPath/PathFollow2D" instance=ExtResource("19_8oqdl")]
z_index = 10

[node name="DecelerationTimer" type="Timer" parent="Components/RaceManager/RacerPaths/PlayerPath"]
wait_time = 0.3
one_shot = true

[node name="PointsCalculator" type="Node" parent="Components" node_paths=PackedStringArray("race_manager")]
script = ExtResource("26_tmw2s")
race_manager = NodePath("../RaceManager")

[node name="StartUI" type="CanvasLayer" parent="."]
script = ExtResource("27_xdqku")

[node name="Panel" type="Panel" parent="StartUI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_eno2j")

[node name="TitleShadow" type="Label" parent="StartUI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -532.5
offset_top = -104.0
offset_right = 386.5
offset_bottom = 102.0
grow_horizontal = 2
grow_vertical = 2
text = "GRIDSHIFT"
label_settings = SubResource("LabelSettings_6oc6j")

[node name="Title" type="Label" parent="StartUI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -540.5
offset_top = -112.0
offset_right = 378.5
offset_bottom = 94.0
grow_horizontal = 2
grow_vertical = 2
text = "GRIDSHIFT"
label_settings = ExtResource("29_dh7ml")

[node name="Button" type="Button" parent="StartUI"]
offset_left = 780.0
offset_top = 554.0
offset_right = 1011.0
offset_bottom = 618.0
mouse_default_cursor_shape = 2
theme = ExtResource("30_prroa")
text = "NEW GAME"

[node name="InventoryTrackCardButtons2" type="Sprite2D" parent="StartUI"]
position = Vector2(864, 72)
rotation = -1.5708
scale = Vector2(9.017, 9.017)
texture = SubResource("AtlasTexture_bdk1f")

[node name="InventoryTrackCardButtons" type="Sprite2D" parent="StartUI"]
position = Vector2(1173, 251)
scale = Vector2(9.017, 9.017)
texture = SubResource("AtlasTexture_5i5j4")

[node name="InventoryTrackCardButtons3" type="Sprite2D" parent="StartUI"]
position = Vector2(290.681, 614.362)
rotation = 1.5708
scale = Vector2(10.0606, 10.0606)
texture = SubResource("AtlasTexture_bdk1f")

[node name="SetupUI" type="CanvasLayer" parent="."]
visible = false
script = ExtResource("15_r6i58")

[node name="Panel" type="Panel" parent="SetupUI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = -1037.0
offset_top = -112.0
offset_right = 103.0
grow_vertical = 0
theme = ExtResource("33_h856h")

[node name="ShopUI" type="HBoxContainer" parent="SetupUI/Panel"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -545.5
offset_top = -45.5
offset_right = 545.5
offset_bottom = 45.5
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 18

[node name="Money" type="Label" parent="SetupUI/Panel/ShopUI"]
custom_minimum_size = Vector2(32, 0)
layout_mode = 2
theme = SubResource("Theme_qupja")
text = "20$"

[node name="TrackCardUI" type="HBoxContainer" parent="SetupUI/Panel/ShopUI"]
layout_mode = 2
theme_override_constants/separation = 16

[node name="Straights" type="VBoxContainer" parent="SetupUI/Panel/ShopUI/TrackCardUI"]
layout_mode = 2

[node name="StraightsLabel" type="Label" parent="SetupUI/Panel/ShopUI/TrackCardUI/Straights"]
layout_mode = 2
theme = ExtResource("34_ymap1")
text = "STRAIGHTS"

[node name="Cards" type="HBoxContainer" parent="SetupUI/Panel/ShopUI/TrackCardUI/Straights"]
layout_mode = 2

[node name="ShopTrackCardBtn" parent="SetupUI/Panel/ShopUI/TrackCardUI/Straights/Cards" instance=ExtResource("27_5bc8a")]
layout_mode = 2
texture_normal = SubResource("AtlasTexture_dopny")
texture_disabled = SubResource("AtlasTexture_bbk08")
track_card_stats = ExtResource("28_0g71v")

[node name="ShopTrackCardBtn2" parent="SetupUI/Panel/ShopUI/TrackCardUI/Straights/Cards" instance=ExtResource("27_5bc8a")]
layout_mode = 2
texture_normal = SubResource("AtlasTexture_ow8jv")
texture_disabled = SubResource("AtlasTexture_s1hib")
track_card_stats = ExtResource("29_0lok0")

[node name="SingleCorners" type="VBoxContainer" parent="SetupUI/Panel/ShopUI/TrackCardUI"]
layout_mode = 2

[node name="SingleCornersLabel" type="Label" parent="SetupUI/Panel/ShopUI/TrackCardUI/SingleCorners"]
layout_mode = 2
theme = ExtResource("34_ymap1")
text = "SINGLE CORNERS"

[node name="Cards" type="HBoxContainer" parent="SetupUI/Panel/ShopUI/TrackCardUI/SingleCorners"]
layout_mode = 2

[node name="ShopTrackCardBtn" parent="SetupUI/Panel/ShopUI/TrackCardUI/SingleCorners/Cards" instance=ExtResource("27_5bc8a")]
layout_mode = 2
texture_normal = SubResource("AtlasTexture_ahh17")
texture_disabled = SubResource("AtlasTexture_05ivi")
track_card_stats = ExtResource("32_7ij3m")

[node name="ShopTrackCardBtn2" parent="SetupUI/Panel/ShopUI/TrackCardUI/SingleCorners/Cards" instance=ExtResource("27_5bc8a")]
layout_mode = 2
texture_normal = SubResource("AtlasTexture_lyvtm")
texture_disabled = SubResource("AtlasTexture_7ua6d")
track_card_stats = ExtResource("33_qq1of")

[node name="ShopTrackCardBtn3" parent="SetupUI/Panel/ShopUI/TrackCardUI/SingleCorners/Cards" instance=ExtResource("27_5bc8a")]
layout_mode = 2
texture_normal = SubResource("AtlasTexture_5dgsx")
texture_disabled = SubResource("AtlasTexture_f4fi2")
track_card_stats = ExtResource("34_g2sw6")

[node name="ShopTrackCardBtn4" parent="SetupUI/Panel/ShopUI/TrackCardUI/SingleCorners/Cards" instance=ExtResource("27_5bc8a")]
layout_mode = 2
texture_normal = SubResource("AtlasTexture_eqyik")
texture_disabled = SubResource("AtlasTexture_nvqa4")
track_card_stats = ExtResource("35_gyckh")

[node name="ShopTrackCardBtn5" parent="SetupUI/Panel/ShopUI/TrackCardUI/SingleCorners/Cards" instance=ExtResource("27_5bc8a")]
layout_mode = 2
texture_normal = SubResource("AtlasTexture_rirm7")
texture_disabled = SubResource("AtlasTexture_s166f")
track_card_stats = ExtResource("36_yj4f8")

[node name="DoubleCorners" type="VBoxContainer" parent="SetupUI/Panel/ShopUI/TrackCardUI"]
layout_mode = 2

[node name="DoubleCornersLabel" type="Label" parent="SetupUI/Panel/ShopUI/TrackCardUI/DoubleCorners"]
layout_mode = 2
theme = ExtResource("34_ymap1")
text = "DOUBLE CORNERS"

[node name="Cards" type="HBoxContainer" parent="SetupUI/Panel/ShopUI/TrackCardUI/DoubleCorners"]
layout_mode = 2

[node name="ShopTrackCardBtn" parent="SetupUI/Panel/ShopUI/TrackCardUI/DoubleCorners/Cards" instance=ExtResource("27_5bc8a")]
layout_mode = 2
texture_normal = SubResource("AtlasTexture_5yacb")
texture_disabled = SubResource("AtlasTexture_6u14h")
track_card_stats = ExtResource("37_o327j")

[node name="ShopTrackCardBtn2" parent="SetupUI/Panel/ShopUI/TrackCardUI/DoubleCorners/Cards" instance=ExtResource("27_5bc8a")]
layout_mode = 2
texture_normal = SubResource("AtlasTexture_7qmhp")
texture_disabled = SubResource("AtlasTexture_2prod")
track_card_stats = ExtResource("38_tgdo7")

[node name="CarUpgradesUI" type="HBoxContainer" parent="SetupUI/Panel/ShopUI"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = -10

[node name="TopSpeed" type="Button" parent="SetupUI/Panel/ShopUI/CarUpgradesUI"]
layout_mode = 2
size_flags_horizontal = 6
theme = ExtResource("46_13pq4")
text = "Increase
Top Speed"
script = ExtResource("39_pkxc2")
price = 5

[node name="AcceleratorPower" type="Button" parent="SetupUI/Panel/ShopUI/CarUpgradesUI"]
layout_mode = 2
size_flags_horizontal = 6
theme = ExtResource("46_13pq4")
text = "Increase
Acceleration"
script = ExtResource("39_pkxc2")
price = 5

[node name="BrakePower" type="Button" parent="SetupUI/Panel/ShopUI/CarUpgradesUI"]
layout_mode = 2
size_flags_horizontal = 6
theme = ExtResource("46_13pq4")
text = "Increase
Brake Power"
script = ExtResource("39_pkxc2")
price = 5

[node name="SHOP" type="Button" parent="SetupUI/Panel/ShopUI"]
layout_mode = 2
size_flags_horizontal = 8
theme = ExtResource("46_13pq4")
text = "SHOP"

[node name="StartRacePanel" type="Panel" parent="SetupUI"]
offset_left = 1146.0
offset_top = 598.0
offset_right = 1280.0
offset_bottom = 719.0
theme = SubResource("Theme_ryj6o")
theme_override_styles/panel = SubResource("StyleBoxFlat_nhf0t")

[node name="VBoxContainer" type="VBoxContainer" parent="SetupUI/StartRacePanel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 17.0
offset_top = -3.0
offset_right = -17.0
offset_bottom = -4.0
grow_horizontal = 2
grow_vertical = 2

[node name="CircuitCompletion" type="Label" parent="SetupUI/StartRacePanel/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 6
text = "Circuit Incomplete"
label_settings = SubResource("LabelSettings_2psnu")
autowrap_mode = 2
script = ExtResource("12_iiquq")
incomplete_colour = Color(0.910619, 0.26386, 0.248811, 1)
complete_colour = Color(0.239546, 0.675515, 0.39479, 1)

[node name="StartRaceButton" type="Button" parent="SetupUI/StartRacePanel/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
theme = ExtResource("46_13pq4")
text = "Start Race"
script = ExtResource("16_i23ju")

[node name="RaceUI" type="CanvasLayer" parent="."]
visible = false
script = ExtResource("28_wgn8a")

[node name="Countdown" type="Label" parent="RaceUI"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -55.5
offset_top = -243.0
offset_right = 55.5
offset_bottom = 3.0
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_aw2ls")
text = "3"

[node name="Panel" type="Panel" parent="RaceUI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -118.0
offset_right = 423.0
grow_vertical = 0
theme = SubResource("Theme_b6qeb")

[node name="VBoxContainer" type="VBoxContainer" parent="RaceUI/Panel"]
layout_mode = 0
offset_left = 12.0
offset_top = 8.0
offset_right = 412.0
offset_bottom = 102.0

[node name="HBoxContainer2" type="HBoxContainer" parent="RaceUI/Panel/VBoxContainer"]
layout_mode = 2

[node name="LapCounter" type="Label" parent="RaceUI/Panel/VBoxContainer/HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Lap 1"
label_settings = SubResource("LabelSettings_ln77r")

[node name="CautionLabel" type="Label" parent="RaceUI/Panel/VBoxContainer/HBoxContainer2"]
visible = false
layout_mode = 2
text = "CAUTION"
label_settings = SubResource("LabelSettings_ijasw")

[node name="HBoxContainer" type="HBoxContainer" parent="RaceUI/Panel/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="SpeedLabel" type="Label" parent="RaceUI/Panel/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
text = "0kph"
label_settings = SubResource("LabelSettings_jbm2g")

[node name="ProgressBar" type="ProgressBar" parent="RaceUI/Panel/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 1
theme = SubResource("Theme_6kbys")
show_percentage = false

[node name="ResultsUI" type="CanvasLayer" parent="."]
visible = false
script = ExtResource("30_sdypd")

[node name="Panel" type="Panel" parent="ResultsUI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_oebeb")

[node name="RaceResults" type="VBoxContainer" parent="ResultsUI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -182.5
offset_top = -227.5
offset_right = 182.5
offset_bottom = 115.5
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
theme_override_constants/separation = 16

[node name="Titles" type="HBoxContainer" parent="ResultsUI/RaceResults"]
layout_mode = 2
size_flags_horizontal = 4
theme = ExtResource("49_c46o0")

[node name="PositionTitle" type="Label" parent="ResultsUI/RaceResults/Titles"]
layout_mode = 2
size_flags_horizontal = 4
theme = ExtResource("51_0fr01")
text = "Position"

[node name="NameTitle" type="Label" parent="ResultsUI/RaceResults/Titles"]
layout_mode = 2
theme = ExtResource("51_0fr01")
text = "Racer"

[node name="PrizeMoneyTitle" type="Label" parent="ResultsUI/RaceResults/Titles"]
layout_mode = 2
theme = ExtResource("51_0fr01")
text = "Prize Money"

[node name="Line2D" type="Line2D" parent="ResultsUI/RaceResults"]
position = Vector2(-10, 3)
points = PackedVector2Array(659, 45.5, 24, 45.5)
width = 4.0
default_color = Color(0, 0, 0, 1)

[node name="Position1" type="HBoxContainer" parent="ResultsUI/RaceResults"]
layout_mode = 2
theme = ExtResource("49_c46o0")
script = ExtResource("31_pgcmh")

[node name="PositionLabel" type="Label" parent="ResultsUI/RaceResults/Position1"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_stretch_ratio = 0.7
theme = ExtResource("51_0fr01")

[node name="NameLabel" type="Label" parent="ResultsUI/RaceResults/Position1"]
layout_mode = 2
size_flags_horizontal = 6
theme = ExtResource("51_0fr01")

[node name="PrizeMoney" type="Label" parent="ResultsUI/RaceResults/Position1"]
layout_mode = 2
size_flags_horizontal = 3
theme = ExtResource("51_0fr01")

[node name="Position2" type="HBoxContainer" parent="ResultsUI/RaceResults"]
layout_mode = 2
theme = ExtResource("49_c46o0")
script = ExtResource("31_pgcmh")

[node name="PositionLabel" type="Label" parent="ResultsUI/RaceResults/Position2"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_stretch_ratio = 0.7
theme = ExtResource("51_0fr01")

[node name="NameLabel" type="Label" parent="ResultsUI/RaceResults/Position2"]
layout_mode = 2
size_flags_horizontal = 6
theme = ExtResource("51_0fr01")

[node name="PrizeMoney" type="Label" parent="ResultsUI/RaceResults/Position2"]
layout_mode = 2
size_flags_horizontal = 3
theme = ExtResource("51_0fr01")

[node name="Position3" type="HBoxContainer" parent="ResultsUI/RaceResults"]
layout_mode = 2
theme = ExtResource("49_c46o0")
script = ExtResource("31_pgcmh")

[node name="PositionLabel" type="Label" parent="ResultsUI/RaceResults/Position3"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_stretch_ratio = 0.7
theme = ExtResource("51_0fr01")

[node name="NameLabel" type="Label" parent="ResultsUI/RaceResults/Position3"]
layout_mode = 2
size_flags_horizontal = 6
theme = ExtResource("51_0fr01")

[node name="PrizeMoney" type="Label" parent="ResultsUI/RaceResults/Position3"]
layout_mode = 2
size_flags_horizontal = 3
theme = ExtResource("51_0fr01")

[node name="Position4" type="HBoxContainer" parent="ResultsUI/RaceResults"]
layout_mode = 2
theme = ExtResource("49_c46o0")
script = ExtResource("31_pgcmh")

[node name="PositionLabel" type="Label" parent="ResultsUI/RaceResults/Position4"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_stretch_ratio = 0.7
theme = ExtResource("51_0fr01")

[node name="NameLabel" type="Label" parent="ResultsUI/RaceResults/Position4"]
layout_mode = 2
size_flags_horizontal = 6
theme = ExtResource("51_0fr01")

[node name="PrizeMoney" type="Label" parent="ResultsUI/RaceResults/Position4"]
layout_mode = 2
size_flags_horizontal = 3
theme = ExtResource("51_0fr01")

[node name="Position5" type="HBoxContainer" parent="ResultsUI/RaceResults"]
layout_mode = 2
theme = ExtResource("49_c46o0")
script = ExtResource("31_pgcmh")

[node name="PositionLabel" type="Label" parent="ResultsUI/RaceResults/Position5"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_stretch_ratio = 0.7
theme = ExtResource("51_0fr01")

[node name="NameLabel" type="Label" parent="ResultsUI/RaceResults/Position5"]
layout_mode = 2
size_flags_horizontal = 6
theme = ExtResource("51_0fr01")

[node name="PrizeMoney" type="Label" parent="ResultsUI/RaceResults/Position5"]
layout_mode = 2
size_flags_horizontal = 3
theme = ExtResource("51_0fr01")

[node name="Position6" type="HBoxContainer" parent="ResultsUI/RaceResults"]
layout_mode = 2
theme = ExtResource("49_c46o0")
script = ExtResource("31_pgcmh")

[node name="PositionLabel" type="Label" parent="ResultsUI/RaceResults/Position6"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_stretch_ratio = 0.7
theme = ExtResource("51_0fr01")

[node name="NameLabel" type="Label" parent="ResultsUI/RaceResults/Position6"]
layout_mode = 2
size_flags_horizontal = 6
theme = ExtResource("51_0fr01")

[node name="PrizeMoney" type="Label" parent="ResultsUI/RaceResults/Position6"]
layout_mode = 2
size_flags_horizontal = 3
theme = ExtResource("51_0fr01")

[node name="Continue" type="Button" parent="ResultsUI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -74.0
offset_top = 205.5
offset_right = 74.0
offset_bottom = 258.5
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("30_prroa")
text = "Continue"

[connection signal="circuit_complete" from="Components/CircuitManager" to="SetupUI/StartRacePanel/VBoxContainer/CircuitCompletion" method="_on_circuit_manager_circuit_complete"]
[connection signal="circuit_complete" from="Components/CircuitManager" to="SetupUI/StartRacePanel/VBoxContainer/StartRaceButton" method="_on_circuit_manager_circuit_complete"]
[connection signal="circuit_incomplete" from="Components/CircuitManager" to="SetupUI/StartRacePanel/VBoxContainer/CircuitCompletion" method="_on_circuit_manager_circuit_incomplete"]
[connection signal="circuit_incomplete" from="Components/CircuitManager" to="SetupUI/StartRacePanel/VBoxContainer/StartRaceButton" method="_on_circuit_manager_circuit_incomplete"]
[connection signal="body_exited" from="Components/RaceManager/Area2D" to="Components/RaceManager" method="_on_area_2d_body_exited"]
[connection signal="hide_caution" from="Components/RaceManager/RacerPaths/PlayerPath" to="RaceUI" method="_on_player_path_hide_caution"]
[connection signal="show_caution" from="Components/RaceManager/RacerPaths/PlayerPath" to="RaceUI" method="_on_player_path_show_caution"]
[connection signal="track_card_ended" from="Components/RaceManager/RacerPaths/PlayerPath" to="Components/RaceManager" method="_on_circuit_mover_track_card_ended"]
[connection signal="timeout" from="Components/RaceManager/RacerPaths/PlayerPath/DecelerationTimer" to="Components/RaceManager/RacerPaths/PlayerPath" method="_on_deceleration_timer_timeout"]
[connection signal="pressed" from="StartUI/Button" to="StartUI" method="_on_button_pressed"]
[connection signal="mouse_entered" from="SetupUI/Panel" to="SetupUI" method="_on_panel_mouse_entered"]
[connection signal="mouse_exited" from="SetupUI/Panel" to="SetupUI" method="_on_panel_mouse_exited"]
[connection signal="pressed" from="SetupUI/Panel/ShopUI/CarUpgradesUI/TopSpeed" to="SetupUI" method="_on_top_speed_pressed"]
[connection signal="pressed" from="SetupUI/Panel/ShopUI/CarUpgradesUI/AcceleratorPower" to="SetupUI" method="_on_accelerator_power_pressed"]
[connection signal="pressed" from="SetupUI/Panel/ShopUI/CarUpgradesUI/BrakePower" to="SetupUI" method="_on_brake_power_pressed"]
[connection signal="pressed" from="SetupUI/Panel/ShopUI/SHOP" to="SetupUI" method="_on_shop_pressed"]
[connection signal="pressed" from="SetupUI/StartRacePanel/VBoxContainer/StartRaceButton" to="SetupUI" method="_on_start_race_button_pressed"]
[connection signal="pressed" from="ResultsUI/Continue" to="ResultsUI" method="_on_continue_pressed"]

[editable path="Components/RaceManager/RacerPaths/CPURacerPath"]
[editable path="Components/RaceManager/RacerPaths/CPURacerPath2"]
[editable path="Components/RaceManager/RacerPaths/CPURacerPath3"]
[editable path="Components/RaceManager/RacerPaths/CPURacerPath4"]
[editable path="Components/RaceManager/RacerPaths/CPURacerPath5"]
